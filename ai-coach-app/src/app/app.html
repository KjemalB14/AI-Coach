<div class="container">
  <h1>AI Coach Video Uploader</h1>
  <p>Select a local video file to upload for analysis.</p>

  <div class="upload-section">
    <label for="file-upload" class="custom-file-upload">
      Click to Upload a Video
    </label>
    <input
      id="file-upload"
      type="file"
      (change)="onFileSelected($event)"
      accept="video/*"
    />
  </div>

  @if (videoUrl) {
  <div class="video-player-wrapper">
    <video [src]="videoUrl" controls autoplay>
      Your browser does not support the video tag.
    </video>
    <div class="button-row">
      <button class="submit-button" (click)="onSubmit()" [disabled]="isUploading">
        {{ isUploading ? 'Uploading...' : 'Submit to AI Coach' }}
      </button>
    </div>
    
    @if (isUploading) {
    <div class="progress-container">
      <div class="progress-bar" [style.width.%]="uploadProgress"></div>
      <div class="progress-text">{{ uploadProgress }}%</div>
    </div>
    }
    
    @if (message) {
    <div class="message">{{ message }}</div>
    }
  </div>
  } @else {
  <div class="placeholder">
    <p>Your video will appear here.</p>
  </div>
  }
</div>

<router-outlet />
